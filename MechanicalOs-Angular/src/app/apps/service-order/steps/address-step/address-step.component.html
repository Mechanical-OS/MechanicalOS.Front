<div class="row">
    <!-- Seção de busca por CEP -->
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Buscar Endereço</h5>
                <div class="input-group mb-2">
                    <input 
                        type="text" 
                        class="form-control" 
                        placeholder="Digite o CEP"
                        [(ngModel)]="zipCodeSearchValue"
                        (keyup.enter)="onSearchZipCode()"
                        [disabled]="isSearching"
                        maxlength="9"
                        (input)="formatZipCodeSearch($event)">
                    <button 
                        class="btn btn-success" 
                        type="button" 
                        (click)="onSearchZipCode()"
                        [disabled]="isSearching || !zipCodeSearchValue">
                        <i class="fas fa-search" *ngIf="!isSearching"></i>
                        <i class="fas fa-spinner fa-spin" *ngIf="isSearching"></i>
                    </button>
                </div>
                <small class="text-muted">
                    Digite o CEP para buscar o endereço automaticamente
                </small>
            </div>
        </div>
    </div>

    <!-- Formulário de cadastro do endereço -->
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Endereço</h5>
                
                <form [formGroup]="addressForm">
                    <!-- Primeira linha - Cidade e UF -->
                    <div class="row mb-3">
                        <div class="col-md-8">
                            <label for="city" class="form-label">CIDADE</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="city"
                                formControlName="city"
                                [class.is-invalid]="isFieldInvalid('city')"
                                placeholder="Ex: Indaiatuba"
                                maxlength="100">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('city')">
                                Cidade é obrigatória
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="state" class="form-label">UF</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="state"
                                formControlName="state"
                                [class.is-invalid]="isFieldInvalid('state')"
                                placeholder="Ex: SP"
                                maxlength="2">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('state')">
                                UF é obrigatória
                            </div>
                        </div>
                    </div>

                    <!-- Segunda linha - Bairro e CEP -->
                    <div class="row mb-3">
                        <div class="col-md-8">
                            <label for="neighborhood" class="form-label">BAIRRO</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="neighborhood"
                                formControlName="neighborhood"
                                [class.is-invalid]="isFieldInvalid('neighborhood')"
                                placeholder="Ex: Jardim Bela Vista"
                                maxlength="100">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('neighborhood')">
                                Bairro é obrigatório
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="zipCode" class="form-label">CEP</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="zipCode"
                                formControlName="zipCode"
                                [class.is-invalid]="isFieldInvalid('zipCode')"
                                placeholder="00000-000"
                                (input)="formatZipCode($event)"
                                maxlength="9">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('zipCode')">
                                CEP é obrigatório e deve ter formato válido
                            </div>
                        </div>
                    </div>

                    <!-- Terceira linha - Rua -->
                    <div class="row mb-3">
                        <div class="col-md-12">
                            <label for="street" class="form-label">RUA</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="street"
                                formControlName="street"
                                [class.is-invalid]="isFieldInvalid('street')"
                                placeholder="Ex: Av Ary Barnabé"
                                maxlength="150">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('street')">
                                Rua é obrigatória
                            </div>
                        </div>
                    </div>

                    <!-- Quarta linha - Número e Complemento -->
                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="number" class="form-label">NUMERO</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="number"
                                formControlName="number"
                                [class.is-invalid]="isFieldInvalid('number')"
                                placeholder="Ex: 251"
                                maxlength="10">
                            <div class="invalid-feedback" *ngIf="isFieldInvalid('number')">
                                Número é obrigatório
                            </div>
                        </div>
                        <div class="col-md-8">
                            <label for="complement" class="form-label">COMPLEMENTO</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="complement"
                                formControlName="complement"
                                placeholder="Ex: Sem complemento"
                                maxlength="100">
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>